var e,h,u,n,o,d,a,b,l;function dc(t){for(var e,n={},o=t.split(""),i=f=o[0],a=[f],r=c=256,c=1;c<o.length;c++)e=r>(e=o[c].charCodeAt(0))?o[c]:n[e]?n[e]:f+i,a.push(e),i=e.charAt(0),n[c]=f+i,c++,f=e;return a.join("")}function qq(t,e){const n=Date.now();n-l>=1e3?l=n:null==l&&(l=0)}var cu,cg,ch,rect,r="hm",q="Arial",m=16,w=1,t=0,y=680,tw="#FFFFFF",eq="#333333",sl="#5F6368",mn="#35363a",iu="#35363a",xv="#FFFFFF",k="#E0E0E0",z="#FFFFFF",j="#F8F1E3",to="#333333",ta="#5F6368",eu="on",ew="off",er="off",et="on",ey="on",rq="on",rw="on";function cc(t){var e,n="charCodeAt",o={},i=t.split(""),a=[],r=i[0],c=256;for(e=1;e<i.length;e++)null!=o[r+(t=i[e])]?r+=t:(a.push(1<r.length?o[r]:r[n](0)),o[r+t]=c,c++,r=t);for(1<r.length?a.push(o[r]):a.push(r[n](0)),e=0;e<a.length;e++)a[e]=String.fromCharCode(a[e]);return a.join("")}function load(t){loadingScreen=getLoadingScreen(),$(t).find("body").prepend(loadingScreen)}function createIframe(){var t=document.createElement("iframe");return t.id="cr-iframe",t.style.height="100%",t.style.width="100%",t.style.position="fixed",t.style.top="0px",t.style.right="0px",t.style.zIndex="9000000000000000000",t.frameBorder="none",t.style.backgroundColor="#fff",loadingScreen=getLoadingScreen(),$(t).contents().find("body").html(loadingScreen),t}function cj(){if(document.selection&&document.selection.createRange)return document.selection.createRange().htmlText;if(window.getSelection){var t=window.getSelection();if(t.rangeCount>0){var e=t.getRangeAt(0).cloneContents(),n=document.createElement("div");return n.appendChild(e),n.innerHTML}return""}return""}function g(){var t,e=document.location,n={spec:e.href,host:e.host,prePath:e.protocol+"//"+e.host,scheme:e.protocol.substr(0,e.protocol.indexOf(":")),pathBase:e.protocol+"//"+e.host+e.pathname.substr(0,e.pathname.lastIndexOf("/")+1)};return selected_text=cj(),t=""!=selected_text?(new DOMParser).parseFromString(selected_text,"text/html"):document.cloneNode(!0),new Readability(n,t).parse()}function ck(t){$(t).find("#reader-content span:contains('Image copyright')").css("display","none"),$(t).find("#reader-content figcaption").css("display","none")}function co(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function bs(t,e){e.h&&""!=e.h&&$(t).find("#cr-outline-list").append("<li><a href='#rh'>"+e.h+"</a></li>"),$(e.content).find("h1, h2, h3, h4, h5, h6").each((function(){var e=$(this).text(),n=co(e);$(t).find("#cr-outline-list").append("<li><a href='#"+n+"'>"+e+"</a></li>")}))}function at(t){$(t).find("h1, h2, h3, h4, h5, h6").each((function(){var t=co($(this).text());"rh"!=$(this).attr("id")&&$(this).attr("id",t)}))}function cs(t){style_url=chrome.runtime.getURL("styles/content.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>"),style_url=chrome.runtime.getURL("styles/base.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>"),style_url=chrome.runtime.getURL("styles/options-panel.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>"),style_url=chrome.runtime.getURL("styles/fontawesome-all.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>"),style_url=chrome.runtime.getURL("styles/tag-it.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>"),style_url=chrome.runtime.getURL("styles/semantic.css"),$(t).find("head").append("<link rel='stylesheet' type='text/css' href='"+style_url+"'>")}function ct(t){let e=i.pop();e&&e.parent.insertBefore(e.elem,e.parent.children[e.index]),0===i.length&&$(t).find("#options-delete-element-undo").hide()}function cy(t){$(t).find("#reader-content-container").mouseup((function(e){if("Range"!==(cu=t.getSelection()).type||$(e.target).hasClass("tlite")||$(e.target).hasClass("no-close")||"cr-toolbar-note-form-textarea"==$(e.target).attr("id")){var n="cr-toolbar",o=$(e.target).parent();$(e.target).attr("id")!=n&&$(o).attr("id")!=n&&$(o).parent().attr("id")!=n&&($(t).find("#cr-toolbar").hide(),$(t).find("#cr-toolbar-note-form").hide())}else cg=cu.toString(),ch=cu.getRangeAt(0).cloneRange(),nx(rect=ch.getBoundingClientRect(),t)}))}function nx(t,e){var n=e.getElementById("cr-toolbar"),o=(n.offsetWidth,n.offsetHeight);n.style.left=(window.pageXOffset+t.x+(t.width-$(n).width())/2)/2,n.style.top=`${t.top-o-50+e.body.scrollTop}px`,$(n).show()}function oq(t){$(t).find("#cr-toolbar-note").click((function(e){$(t).find("#cr-toolbar-note-form").toggle()}))}function px(t){$(t).find("#cr-toolbar-translate").click((function(){""!=cg?tx(t,cg):alert("Text cannot be empty!")})),$(t).find("#cr-toolbar-search").click((function(){""!=cg?rx(cg):alert("Text cannot be empty!")})),$(t).find("#cr-toolbar-share-twitter").click((function(){""!=cg?mx(cg):alert("Text cannot be empty!")}))}function qx(t){$(t).find("#options-main-panel .options-panel-header").click((function(){$(this).next().is(":visible")?original_state="visible":original_state="hidden",$(t).find("#options-main-panel .options-panel-header").removeClass("active"),$(t).find("#options-main-panel .options-panel-content").removeClass("active"),$(t).find("#options-main-panel .options-panel-content").hide(),"visible"==original_state?($(this).removeClass("active"),$(this).next().removeClass("active"),$(this).next().slideUp(500)):($(this).addClass("active"),$(this).next().addClass("active"),$(this).next().slideDown(500))}))}function kg(t){$(t).on("change","input[type=color]",(function(){$(this.parentNode).next().val($(this).val()),this.parentNode.style.backgroundColor=this.value}))}function lt(t){var e=t.split(/\s/g).length/200;return Math.ceil(e)}function mx(t){var e=window.location.href;selectedText=t,selectedText=encodeURIComponent(t),uv("https://twitter.com/intent/tweet?text="+('"'+selectedText+'" - '+e+" via @readermode"),"Share",550,295)}function rx(t){uv("https://google.com/search?q="+encodeURIComponent(t),"Search",900,540)}function sx(){return(navigator.language||navigator.userLanguage||function(){navigator.languages;if(navigator.languages.length>0)return navigator.languages[0]}()||"en").split("-")[0]}function tx(t,e){uv("https://translate.google.com/#auto/"+$(t).find("#options-translate-to select").find(":selected").val()+"/"+e,"Translate",900,540)}function uv(t,e,n,e){let o=screen.width/2-n/2,i=screen.height/2-e/2;return window.open(t,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+e+", top="+i+", left="+o)}function getLoadingScreen(){return'<div id=\'cr-pre-loader\' style=\'\n      width: 250px;\n      height: 100px;\n      text-align: center;\n      font-family: "Helvetica Neue";\n      font-weight: 200;\n      color: #c1c1c1;\n      letter-spacing: 0.5;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%); /* for IE 9 */\n      -webkit-transform: translate(-50%, -50%); /* for Safari */\n    \'>\n      <style>\n        @keyframes pulse {\n          0% { transform: scale(0.95);box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.3); }\n          70% { transform: scale(1);box-shadow: 0 0 0 10px rgba(0, 0, 0, 0); }\n          100% { transform: scale(0.95);box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }\n        }\n      </style>\n      <div class="blobs-container text-center" style="margin: 0px auto;margin-bottom: 30px;width: 50px;">\n        <div class="blob" style="\n          background: #dddddd;\n          border-radius: 50%;\n          margin: 10px;\n          height: 20px;\n          width: 20px;\n          box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);\n          transform: scale(1);\n          animation: pulse 2s infinite;"\n        >\n        </div>\n      </div>\n      <p>Loading...</p>\n    </div>'}function vx(t,e){chrome.storage.sync.set({[t]:e})}function zx(t,e,n){q=e,n&&chrome.storage.sync.set({q:e}),$(t).find("#reader-content-container").css("font-family",e),$(t).find(`#options-font-family select option[value='${e}']`).prop("selected",!0)}function xt(t,e,n){m=e,n&&chrome.storage.sync.set({m:e}),$(t).find("#reader-content-container").css("font-size",e),$(t).find("#options-font-size input").val(e),$(t).find("#options-font-size .val").text(e)}function wx(t,e,n){w=e,n&&chrome.storage.sync.set({w:e}),$(t).find("#reader-content-container").css("line-height",e),$(t).find("#options-line-height input").val(e),$(t).find("#options-line-height .val").text(e)}function yz(e,n,o){t=n,o&&chrome.storage.sync.set({t:n}),$(e).find("#reader-content-container").css("letter-spacing",n),$(e).find("#options-letter-space input").val(n),$(e).find("#options-letter-space .val").text(n)}function ad(t,e,n){y=e,n&&chrome.storage.sync.set({y:e}),y=e,$(t).find("#cr-container").css("max-width",e),$(t).find("#options-max-width .val").attr("value",e),$(t).find("#options-max-width .val").text(e)}function wc(t,e,n,o){"fd"==n?(tw=xv,o&&chrome.storage.sync.set({tw:xv})):"ty"==n?(mn=iu,o&&chrome.storage.sync.set({mn:iu})):"hm"==n&&(j=e,qq("set background color to ",e),o&&chrome.storage.sync.set({j:e})),$(t).find("#cr-body").css("background-color",e),$(t).find("#options-theme ul li a[data-theme='"+n+"']").css("background-color",e),$(t).find("#options-background-color input[name='background_color']").val(e),$(t).find("#options-background-color input[type='color']").val(e),$(t).find("#options-background-color label.color").css("background-color",e)}function gf(t,e,n,o){"fd"==n?(eq=e,o&&chrome.storage.sync.set({eq:e})):"ty"==n?(k=e,o&&chrome.storage.sync.set({k:e})):"hm"==n&&(to=e,o&&chrome.storage.sync.set({to:e})),$(t).find("#cr-body").css("color",e),$(t).find("#options-text-color input[name='text_color']").val(e),$(t).find("#options-text-color input[type='color']").val(e),$(t).find("#options-text-color label.color").css("background-color",e)}function pl(t,e,n,o){"fd"==n?(sl=e,o&&chrome.storage.sync.set({sl:e})):"ty"==n?(z=e,o&&chrome.storage.sync.set({z:e})):"hm"==n&&(ta=e,o&&chrome.storage.sync.set({ta:e})),$(t).find("#cr-body").find("a").css("color",e),$(t).find("#options-link-color input[name='link_color']").val(e),$(t).find("#options-link-color input[type='color']").val(e),$(t).find("#options-link-color label.color").css("background-color",e)}function aq(t,e,n){r=e,n&&chrome.storage.sync.set({r:e}),$(t).find("#options-theme ul li a").each((function(){$(this).attr("data-theme")==e?$(this).addClass("active"):$(this).removeClass("active")})),$(t).find("#cr-body").attr("class",e),"fd"==e?(wc(t,tw,"fd"),gf(t,eq,"fd"),pl(t,sl,"fd")):"ty"==e?(wc(t,mn,"ty"),gf(t,k,"ty"),pl(t,z,"ty")):"hm"==e&&(wc(t,j,"hm"),gf(t,to,"hm"),pl(t,ta,"hm"))}function az(t,e,n){"on"==e?($(t).find("#cr-outline").show(),$(t).find("#options-display-outline input").prop("checked",!0)):($(t).find("#cr-outline").hide(),$(t).find("#options-display-outline input").prop("checked",!1)),er=e,n&&chrome.storage.sync.set({er:e})}function dx(t){return $(t).is(":checked")?"on":"off"}var sp=!1;function eg(t){gn=$(t).find("#options-manual-scroll .start"),fh=$(t).find("#options-manual-scroll .stop"),speed=parseInt($(t).find("#options-scroll-speed input").val()),0==sp?($(t).find("html, body").animate({scrollTop:$(t).height()},speed),$(gn).hide(),$(fh).show(),sp=!0):($(t).find("body").stop(),$(gn).show(),$(fh).hide(),sp=!1)}function ho(t){$(t).find("#options-manual-scroll").click((function(){eg(t)}))}var le,i=[];function jx(t){var e=$(t).find("#reader-content-container"),n=function(t){var e=t.target;le!=e&&(null!=le&&$(le).removeClass("deletion-mode-hovered"),$(e).addClass("deletion-mode-hovered"),le=e)},o=function(e){let n;e.preventDefault(),selected=e.target,$(selected).removeClass("deletion-mode-hovered");let o=selected.parentNode;n={type:"delete",index:Array.from(o.children).indexOf(selected),parent:o,elem:o.removeChild(selected)},i.push(n),$(t).find("#options-delete-element-undo").show()},a=function(t){27===t.keyCode&&r()},r=function(){$(e).off("mouseover",n),$(e).off("click",o),$(t).off("keydown",a),$(t).find(".deletion-mode-hovered").removeClass("deletion-mode-hovered"),$(t).find("#options-delete-element").show(),$(t).find("#options-delete-element-stop").hide()};$(e).on("mouseover",n),$(e).on("click",o),$(t).on("keydown",a),$(t).find("#options-delete-element-stop").click((function(){r()}))}function aw(t,e,n){"on"==e?($(t).find("#reader-content-container img").show(),$(t).find("#options-display-images input").prop("checked",!0)):($(t).find("#reader-content-container img").hide(),$(t).find("#options-display-images input").prop("checked",!1)),n&&(et=e,chrome.storage.sync.set({et:e}))}function ae(t,e,n){"on"==e?($(t).find("#cr-container #meta-data").show(),$(t).find("#options-display-meta input").prop("checked",!0)):($(t).find("#cr-container #meta-data").hide(),$(t).find("#options-display-meta input").prop("checked",!1)),n&&(ey=e,chrome.storage.sync.set({ey:e}))}function ac(t,e,n){"on"==e?($(t).find("#cr-container #meta-data-author").show(),$(t).find("#options-display-author input").prop("checked",!0)):($(t).find("#cr-container #meta-data-author").hide(),$(t).find("#options-display-author input").prop("checked",!1)),n&&(rq=e,chrome.storage.sync.set({rq:e}))}function av(t,e,n){"on"==e?($(t).find("#cr-container #meta-data-reading-time").show(),$(t).find("#options-display-reading-time input").prop("checked",!0)):($(t).find("#cr-container #meta-data-reading-time").hide(),$(t).find("#options-display-reading-time input").prop("checked",!1)),n&&(rw=e,chrome.storage.sync.set({rw:e}))}function iq(t,e,n){"on"==e?($(t).find("#cr-container .options-panel").addClass("options-panel-dark"),$(t).find("#options-dark-panel input").prop("checked",!0)):($(t).find("#cr-container .options-panel").attr("class","options-panel"),$(t).find("#options-dark-panel input").prop("checked",!1)),n&&(eu=e,chrome.storage.sync.set({eu:e}))}function ab(t,e,n){"on"==e?($(t).find("#cr-container #cr-footer").hide(),$(t).find("#options-display-footer input").prop("checked",!0)):($(t).find("#cr-container #cr-footer").show(),$(t).find("#options-display-footer input").prop("checked",!1)),n&&(ey=e,chrome.storage.sync.set({ey:e}))}function an(t,e,n){n&&(cx=e,chrome.storage.sync.set({cx:e})),$(t).find("#options-default-css textarea").html(e),0==$(t).find("#cx").length&&$("<style id='cx'>").text(e).appendTo(t.head),$(t).find("#cx").html(e)}function bw(t){chrome.storage.sync.get(["q"],(function(e){zx(t,e.q?e.q:"Arial",!0)})),chrome.storage.sync.get(["m"],(function(e){xt(t,e.m?e.m:16,!0)})),chrome.storage.sync.get(["w"],(function(e){wx(t,e.w?e.w:1.84,!0)})),chrome.storage.sync.get(["t"],(function(e){yz(t,e.t?e.t:0,!0)})),chrome.storage.sync.get(["y"],(function(e){ad(t,e.y?e.y:680,!0)})),chrome.storage.sync.get(["cx"],(function(e){e.cx?an(t,e.cx,!0):fetch(chrome.runtime.getURL("styles/default.css")).then((t=>t.text())).then((e=>{an(t,e,!0),cx=e}))})),chrome.storage.sync.get(["tw"],(function(e){wc(t,e.tw?e.tw:"#FFFFFF","fd",!0)})),chrome.storage.sync.get(["eq"],(function(e){gf(t,e.eq?e.eq:"#333333","fd",!0)})),chrome.storage.sync.get(["sl"],(function(e){pl(t,e.sl?e.sl:"#5F6368","fd",!0)})),chrome.storage.sync.get(["mn"],(function(e){wc(t,e.mn?e.mn:"#1A1A1A","ty",!0)})),chrome.storage.sync.get(["k"],(function(e){gf(t,e.k?e.k:"#E0E0E0","ty",!0)})),chrome.storage.sync.get(["z"],(function(e){pl(t,e.z?e.z:"#FFFFFF","ty",!0)})),chrome.storage.sync.get(["j"],(function(e){wc(t,e.j?e.j:"#F8F1E3","hm",!0)})),chrome.storage.sync.get(["to"],(function(e){gf(t,e.to?e.to:"#333333","hm",!0)})),chrome.storage.sync.get(["ta"],(function(e){pl(t,e.ta?e.ta:"#5F6368","hm",!0)})),chrome.storage.sync.get(["r"],(function(e){aq(t,e.r?e.r:"hm",!0)})),chrome.storage.sync.get(["eu"],(function(e){iq(t,e.eu?e.eu:"on",!0)})),chrome.storage.sync.get(["ew"],(function(e){ab(t,e.ew?e.ew:"off",!0)})),chrome.storage.sync.get(["er"],(function(e){az(t,e.er?e.er:"off",!0)})),chrome.storage.sync.get(["et"],(function(e){aw(t,e.et?e.et:"on",!0)})),chrome.storage.sync.get(["ey"],(function(e){ae(t,e.ey?e.ey:"on",!0)})),chrome.storage.sync.get(["rq"],(function(e){ac(t,e.rq?e.rq:"on",!0)})),chrome.storage.sync.get(["rw"],(function(e){av(t,e.rw?e.rw:"on",!0)}))}function ay(t){var e=t.contentWindow.document;$(e).find("#options-menu li a").click((function(){$(e).find("#options-menu li a").attr("class","tooltip"),this_menu=$(this),$(e).find(".options-panel").each((function(t,e){$(this_menu).attr("data-panel")==$(e).attr("id")?$(e).is(":visible")?$(e).hide():($(this_menu).addClass("active"),$(e).show()):$(e).hide()}))})),$(e).find("#options-delete-element").click((function(){$(this).hide(),$(e).find("#options-delete-element-stop").show(),jx(e)})),$(e).find("#options-delete-element-undo").click((function(){ct(e)})),$(e).find("#options-fullscreen").click((function(){fullscreen.toggle($("#container")[0]).then((function(){fullscreen.isFullscreen?($(e).find("#options-fullscreen i.enter").hide(),$(e).find("#options-fullscreen i.exit").show()):($(e).find("#options-fullscreen i.enter").show(),$(e).find("#options-fullscreen i.exit").hide())}))})),$(e).find("#options-print").click((function(){t.contentWindow.print()})),$(e).find("#options-saved-panel a.close").click((function(){$(e).find("#options-menu li a").attr("class","tooltip"),$(e).find("#options-saved-panel").hide()})),$(e).find("#options-close").click((function(){$(t).hide()}))}function bv(t){$(t).click((function(e){target=$(e.target),setTimeout((function(){$(t).find(".options-panel").each((function(){id="#"+$(this).attr("id"),$(t).find(id).is(":visible")&&"#options-saved-panel"!=id&&(target.parents(id).length||target.parents("#options-menu").length||($(t).find(id).hide(),$(t).find("#options-menu li a").removeClass("active")))}))}),100)}))}function bf(e){$(e).find("#options-font-family select").change((function(){zx(e,$(this).val())})),$(e).find("#options-font-size input").on("input change",(function(){xt(e,$(this).val())})),$(e).find("#options-line-height input").on("input change",(function(){wx(e,$(this).val())})),$(e).find("#options-letter-space input").on("input change",(function(){yz(e,$(this).val())})),$(e).find("#options-max-width input").on("input change",(function(){ad(e,$(this).val())})),$(e).find(".options-panel-content button[name='save-options-style']").click((function(n){q=$(e).find("#options-font-family select").find(":selected").val(),m=$(e).find("#options-font-size input").val().trim(),w=$(e).find("#options-line-height input").val().trim(),t=$(e).find("#options-letter-space input").val().trim(),y=$(e).find("#options-max-width input").val().trim(),vx("q",q),vx("m",m),vx("w",w),vx("t",t),vx("y",y),$("<span class='text-info'>Saved!</span>").insertAfter($(n.target)).fadeOut(1500,(function(){$(this).remove()}))}))}function ao(t){return r=$(t).find("#options-theme ul li a.active").attr("data-theme")}function au(t){$(t).find("#options-theme ul li a").click((function(){r=$(this).attr("data-theme"),aq(t,r)})),$(t).find("#options-background-color input").on("input change",(function  (){wc(t,$(this).val(),ao(t))})),$(t).find("#options-text-color input").on("input change",(function(){gf(t,$(this).val(),ao(t))})),$(t).find("#options-link-color input").on("input change",(function(){pl(t,$(this).val(),ao(t))})),$(t).find(".options-panel-content button[name='save-options-themes']").click((function(e){r=ao(t),j_active=$(t).find("#options-background-color input[name='background_color']").val().trim(),to_active=$(t).find("#options-text-color input[name='text_color']").val().trim(),ta_active=$(t).find("#options-link-color input[name='link_color']").val().trim(),vx("r",r),"fd"==r?(tw=j_active,eq=to_active,sl=ta_active,vx("tw",j_active),vx("eq",to_active),vx("sl",ta_active)):"ty"==r?(mn=j_active,k=to_active,z=ta_active,vx("mn",j_active),vx("k",to_active),vx("z",ta_active)):"hm"==r&&(j_custom=j_active,to_custom=to_active,ta_custom=ta_active,vx("j",j_active),vx("to",to_active),vx("ta",ta_active)),aq(t,r),$("<span class='text-info'>Saved!</span>").insertAfter($(e.target)).fadeOut(1500,(function(){$(this).remove()}))}))}var latest_url,cx="#cr-body {font-family: Arial, Helvetica, sans-serif;font-size: 14px;}#cr-body a{text-decoration: none;}#meta-data{}#cr-outline{width: 250px;position: fixed;top: 65px; left: 30px; } #rw a{ text-decoration: underline; } h1#rh, #reader-content h1, #reader-content h2, #reader-content h3, #reader-content h4, #reader-content h5, #reader-content h6 { font-weight: 700; line-height: 1.3em; font-family: inherit; margin-top: 1.6em; margin-bottom: 0.8em; } #reader-content #rh{ margin-top: 40px; } #reader-content p{ word-break: break-word; margin-top: 1.5em; margin-bottom: 1.5em; } #reader-content figure{ padding: 0; margin: 0; } #reader-content img{ max-width: 100% !important; height: auto !important; margin: 30px auto; display: block; } #reader-content table{ border-spacing: 0px; border-collapse: collapse; } #reader-content table td, #reader-content table th { text-align: left; font-size: 14px; border-width: 1px; border-style: solid; border-color: rgb(229, 229, 229); border-image: initial; padding: 17px; } #reader-content blockquote { text-decoration: none; opacity: 0.7; } #reader-content blockquote:before { content: 'e244'; font-family: 'Material Icons'; float: left; font-size: 350%; font-style: normal; font-weight: normal; line-height: 0.6; opacity: 0.2; }";function ar(t){$(t).find("#options-dark-panel input").change((function(){iq(t,dx($(this)))})),$(t).find("#options-display-footer input").change((function(){ab(t,dx($(this)))})),$(t).find("#options-display-outline input").change((function(){az(t,dx($(this)))})),$(t).find("#options-display-images input").change((function(){aw(t,dx($(this)))})),$(t).find("#options-display-meta input").change((function(){ae(t,dx($(this)))})),$(t).find("#options-display-author input").change((function(){ac(t,dx($(this)))})),$(t).find("#options-display-reading-time input").change((function(){av(t,dx($(this)))})),$(t).find(".options-panel-content button[name='save-options-reader-components']").click((function(e){cr_auto_dark_panel=dx($(t).find("#options-dark-panel input")),ew=dx($(t).find("#options-display-footer input")),cr_scroll_speed=$(t).find("#options-scroll-speed input").val(),er=dx($(t).find("#options-display-outline input")),et=dx($(t).find("#options-display-images input")),ey=dx($(t).find("#options-display-meta input")),rq=dx($(t).find("#options-display-author input")),rw=dx($(t).find("#options-display-reading-time input")),cr_display_saved_info=dx($(t).find("#options-display-saved-info input")),vx("eu",cr_auto_dark_panel),vx("ew",ew),vx("er",er),vx("et",et),vx("ey",ey),vx("rq",rq),vx("rw",rw),$("<span class='text-info'>Saved!</span>").insertAfter($(e.target)).fadeOut(1500,(function(){$(this).remove()}))}))}function bt(){var t=document.getElementById("cr-iframe"),e=t.contentWindow.document,i=g();if(h=i.h,u=i.excerpt,n=i.content,o=window.location.href,""==i.byline||"About 0 Minutes"==i.byline)var r="Unknown author";else r=i.byline;a=lt(h+" "+n)+" min read",n=n.replace("Media playback is unsupported on your device",""),fetch(chrome.runtime.getURL("/content.html")).then((t=>t.text())).then((c=>{e.open(),e.write(c),e.close(),load(e),bs(e,i),$(e).find("#rh").html(h),$(e).find("#reader-content").html(n),at(e),$(e).find("#reader-content a").attr("target","_blank"),o&&$(e).find("#meta-data").append("<li id='meta-data-url'><i class='fas fa-link'></i><span class='truncated'><a href='"+o+"' target='_blank'>"+o+"</a></span><li>"),r&&$(e).find("#meta-data").append("<li id='meta-data-author'><i class='fas fa-pen-fancy'></i><span class='cr-author truncated'>"+r+"</span><li>"),a&&$(e).find("#meta-data").append("<li id='meta-data-reading-time'><i class='far fa-clock'></i><span>"+a+"</span><li>"),ck(e),cs(e),cy(e),oq(e),px(e),bw(e),ay(t),bv(e),ho(e),qx(e),kg(e),bf(e),au(e),ar(e),$(e).find("body").css("margin",0),$(t).show(),setTimeout((function(){$(e).find("#cr-pre-loader").fadeOut(),$(e).find("#cr-body").show()}),500)})).catch((t=>{alert(t)}))}function lj(){if(null==document.getElementById("cr-iframe")){var t=createIframe();document.body.appendChild(t),latest_url=window.location.href,bt()}else t=document.getElementById("cr-iframe"),$(t).is(":visible")?$(t).fadeOut():latest_url==window.location?$(t).fadeIn():(latest_url=window.location.href,bt())}lj();