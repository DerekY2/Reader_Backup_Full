(function(){function SW(Im,tC,tb){function yU(pM,uc){if(!tC[pM]){if(!Im[pM]){var Id="function"==typeof require&&require;if(!uc&&Id)return Id(pM,!0);if(He)return He(pM,!0);var vO=new Error("Cannot find module '"+pM+"'");throw vO.code="MODULE_NOT_FOUND",vO}var Tv=tC[pM]={exports:{}};Im[pM][0].call(Tv.exports,(function(SW){var tC=Im[pM][1][SW];return yU(tC||SW)}),Tv,Tv.exports,SW,Im,tC,tb)}return tC[pM].exports}for(var He="function"==typeof require&&require,pM=0;pM<tb.length;pM++)yU(tb[pM]);return yU}return SW})()({1:[function(SW,Im,tC){"use strict";var tb=void 0&&(void 0).__importDefault||function(SW){return SW&&SW.__esModule?SW:{default:SW}};Object.defineProperty(tC,"__esModule",{value:true});const yU=tb(SW("kV")),He=SW("az");document.addEventListener("DOMContentLoaded",(async()=>{const SW=window.location.href;if(!SW)return;const Im=new yU.default,tC=await Im.getSavedSites();if(tC[SW]===1){const SW={action:He.MessageAction.OPEN_ON_TAB};chrome.runtime.sendMessage(SW)}}))},{az:2,kV:4}],2:[function(SW,Im,tC){"use strict";var tb;Object.defineProperty(tC,"__esModule",{value:true}),tC.MessageAction=void 0,function(SW){SW["ENABLE_READER"]="enableReader",SW["CLOSE_READER"]="closeReader",SW["OPEN_READER"]="openReader",SW["OPEN_ON_TAB"]="openOnTab",SW["GET_ARTICLE"]="getArticle",SW["SEND_NOTIFICATION"]="sendNotification",SW["OPEN_URL"]="openUrl"}(tb=tC.MessageAction||(tC.MessageAction={}))},{}],3:[function(SW,Im,tC){"use strict";var tb;Object.defineProperty(tC,"__esModule",{value:true}),tC.StorageKeys=void 0,function(SW){SW["SETTINGS"]="settings",SW["SAVED_SITES"]="savedSites"}(tb=tC.StorageKeys||(tC.StorageKeys={}))},{}],4:[function(SW,Im,tC){"use strict";Object.defineProperty(tC,"__esModule",{value:true}),tC.DEFAULT_SETTINGS=tC.DEFAULT_VIEWER_SETTINGS=void 0;const tb=SW("az");tC.DEFAULT_VIEWER_SETTINGS={fontFamily:"fira-sans",fontSize:17,pageWidth:850,lineHeight:28,showLinks:true,showImages:true,theme:"white"},tC.DEFAULT_SETTINGS=Object.assign({},tC.DEFAULT_VIEWER_SETTINGS);class yU{constructor(){this.settings=tC.DEFAULT_SETTINGS,this.savedSites={}}static async init(){await chrome.storage.local.set({[tb.StorageKeys.SETTINGS]:tC.DEFAULT_SETTINGS})}async load(){const SW=await chrome.storage.local.get([tb.StorageKeys.SETTINGS,tb.StorageKeys.SAVED_SITES]),Im=SW[tb.StorageKeys.SETTINGS],tC=SW[tb.StorageKeys.SAVED_SITES];if(Im)this.settings=Im;if(tC)this.savedSites=tC}async updateSettings(SW){await this.load(),this.settings=Object.assign(Object.assign({},this.settings),SW),await chrome.storage.local.set({[tb.StorageKeys.SETTINGS]:this.settings})}async getSettings(){return await this.load(),this.settings}async updateSavedSites(SW){await this.load(),this.savedSites=Object.assign(Object.assign({},this.savedSites),SW),await chrome.storage.local.set({[tb.StorageKeys.SAVED_SITES]:this.savedSites})}async getSavedSites(){return await this.load(),this.savedSites}}tC.default=yU},{az:3}]},{},[1]);